/*
 * jQuery Custom Forms Plugin 1.0
 * www.ZURB.com
 * Copyright 2010, ZURB
 * Free to use under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
*/
jQuery(document).ready(function(a){function b(b){a("form.custom input:"+b).each(function(){var c=a(this).hide(),d=c.next("span.custom."+b);d.length===0&&(d=a('<span class="custom '+b+'"></span>').insertAfter(c)),d.toggleClass("checked",c.is(":checked")),d.toggleClass("disabled",c.is(":disabled"))})}function c(b){var c=a(b),d=c.next("div.custom.dropdown"),e=c.find("option"),f=0,g;d.length===0?(d=a('<div class="custom dropdown"><a href="#" class="selector"></a><ul></ul></div>"'),e.each(function(){g=a("<li>"+a(this).html()+"</li>"),d.find("ul").append(g)}),d.prepend('<a href="#" class="current">'+e.first().html()+"</a>"),c.after(d),c.hide()):(d.find("ul").html(""),e.each(function(){g=a("<li>"+a(this).html()+"</li>"),d.find("ul").append(g)})),d.toggleClass("disabled",c.is(":disabled")),e.each(function(b){this.selected&&(d.find("li").eq(b).addClass("selected"),d.find(".current").html(a(this).html()))}),d.find("li").each(function(){d.addClass("open"),a(this).outerWidth()>f&&(f=a(this).outerWidth()),d.removeClass("open")}),d.css("width",f+18+"px"),d.find("ul").css("width",f+16+"px")}b("checkbox"),b("radio"),a("form.custom select").each(function(){c(this)})}),function(a){function b(b){var c=0,d=b.next();$options=b.find("option"),d.find("ul").html(""),$options.each(function(){$li=a("<li>"+a(this).html()+"</li>"),d.find("ul").append($li)}),$options.each(function(b){this.selected&&(d.find("li").eq(b).addClass("selected"),d.find(".current").html(a(this).html()))}),d.removeAttr("style").find("ul").removeAttr("style"),d.find("li").each(function(){d.addClass("open"),a(this).outerWidth()>c&&(c=a(this).outerWidth()),d.removeClass("open")}),d.css("width",c+18+"px"),d.find("ul").css("width",c+16+"px")}function c(a){var b=a.prev(),c=b[0];0==b.is(":disabled")&&(c.checked=c.checked?!1:!0,a.toggleClass("checked"),b.trigger("change"))}function d(b){var c=b.prev(),d=c[0];a('input:radio[name="'+c.attr("name")+'"]').each(function(){a(this).next().removeClass("checked")}),d.checked=d.checked?!1:!0,b.toggleClass("checked"),c.trigger("change")}a("form.custom span.custom.checkbox").live("click",function(b){b.preventDefault(),b.stopPropagation(),c(a(this))}),a("form.custom span.custom.radio").live("click",function(b){b.preventDefault(),b.stopPropagation(),d(a(this))}),a("form.custom select").live("change",function(c){b(a(this))}),a("form.custom label").live("click",function(b){var e=a("#"+a(this).attr("for")),f,g;e.length!==0&&(e.attr("type")==="checkbox"?(b.preventDefault(),f=a(this).find("span.custom.checkbox"),c(f)):e.attr("type")==="radio"&&(b.preventDefault(),g=a(this).find("span.custom.radio"),d(g)))}),a("form.custom div.custom.dropdown a.current, form.custom div.custom.dropdown a.selector").live("click",function(b){var c=a(this),d=c.closest("div.custom.dropdown"),e=d.prev();b.preventDefault(),0==e.is(":disabled")&&(d.toggleClass("open"),d.hasClass("open")?a(document).bind("click.customdropdown",function(b){d.removeClass("open"),a(document).unbind(".customdropdown")}):a(document).unbind(".customdropdown"))}),a("form.custom div.custom.dropdown li").live("click",function(b){var c=a(this),d=c.closest("div.custom.dropdown"),e=d.prev(),f=0;b.preventDefault(),b.stopPropagation(),c.closest("ul").find("li").removeClass("selected"),c.addClass("selected"),d.removeClass("open").find("a.current").html(c.html()),c.closest("ul").find("li").each(function(a){c[0]==this&&(f=a)}),e[0].selectedIndex=f,e.trigger("change")})}(jQuery)