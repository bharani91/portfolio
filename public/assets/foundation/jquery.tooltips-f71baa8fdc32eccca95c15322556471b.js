$(document).ready(function(){function a(){function c(a,b,c){function h(a,b,c,d,e){a.css({top:b,bottom:d,left:e,right:c})}var d=a.data("width"),e=b.children(".nub"),f=e.outerHeight(),g=e.outerWidth();b.css({top:a.offset().top+a.outerHeight()+10,left:a.offset().left,width:d}),h(e,-f,"auto","auto",10);if($(window).width()<767){var i=a.parents(".row");b.width(i.outerWidth()-20).css("left",i.offset().left),h(e,-f,"auto","auto",a.offset().left)}else c.indexOf("top")>-1&&(b.css("top",a.offset().top-b.outerHeight()),h(e,"auto","auto",-f,g)),c.indexOf("left")>-1?(b.css({top:a.offset().top-a.outerHeight()/2,left:a.offset().left-b.outerWidth()-10}).children(".nub").css("top",b.outerHeight()/2-e.outerHeight()/2),h(e,b.outerHeight()/2-e.outerHeight/2,-f,"auto","auto")):c.indexOf("right")>-1&&(b.css({top:a.offset().top-a.outerHeight()/2,left:a.offset().left+a.outerWidth()+10}).children(".nub").css("top",b.outerHeight()/2-e.outerHeight()/2),h(e,b.outerHeight()/2-e.outerHeight/2,"auto","auto",-f))}var a=$(".has-tip"),b=function(a,b){return'<span data-id="'+a+'" class="tooltip">'+b+'<span class="nub"></span></span>'};a.each(function(){var a=$(this),d=a.attr("title"),e=a.attr("class"),f=a.attr("id"),g=$(b(f,d));g.addClass(e).removeClass("has-tip").appendTo("body"),c(a,g,e),g.hide(),Modernizr.touch&&g.append('<span class="tap-to-close">tap to close </span>')}),$(window).resize(function(){var a=$(".tooltip");a.each(function(){var a=$("#"+$(this).data("id")),b=$(this),d=b.attr("class");c(a,b,d)})}),Modernizr.touch?($(".tooltip").live("click",function(a){a.preventDefault(),$(this).hide()}),a.live("click",function(){a.hover(function(){$("span[data-id="+$(this).attr("id")+"]").show(),a.attr("title","")},function(){$("span[data-id="+$(this).attr("id")+"]").hide()})})):a.hover(function(){$("span[data-id="+$(this).attr("id")+"]").show(),a.attr("title","")},function(){$("span[data-id="+$(this).attr("id")+"]").hide()})}a()})